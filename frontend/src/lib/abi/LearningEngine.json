{
  "_format": "hh3-artifact-1",
  "contractName": "LearningEngine",
  "sourceName": "contracts/LearningEngine.sol",
  "abi": [
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "_npcCoreAddress",
          "type": "address"
        }
      ],
      "stateMutability": "nonpayable",
      "type": "constructor"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "npcId",
          "type": "uint256"
        },
        {
          "internalType": "address",
          "name": "player",
          "type": "address"
        },
        {
          "components": [
            {
              "internalType": "enum SharedTypes.ActionType",
              "name": "action",
              "type": "uint8"
            },
            {
              "internalType": "address",
              "name": "target",
              "type": "address"
            },
            {
              "internalType": "uint256",
              "name": "value1",
              "type": "uint256"
            },
            {
              "internalType": "uint256",
              "name": "value2",
              "type": "uint256"
            },
            {
              "internalType": "bytes32",
              "name": "memo",
              "type": "bytes32"
            }
          ],
          "internalType": "struct SharedTypes.InteractionContext",
          "name": "context",
          "type": "tuple"
        },
        {
          "internalType": "bool",
          "name": "wasPositive",
          "type": "bool"
        }
      ],
      "name": "calculateInteractionOutcome",
      "outputs": [
        {
          "components": [
            {
              "internalType": "uint16",
              "name": "newRelationshipScore",
              "type": "uint16"
            },
            {
              "internalType": "uint16",
              "name": "newAggression",
              "type": "uint16"
            },
            {
              "internalType": "uint16",
              "name": "newSociability",
              "type": "uint16"
            },
            {
              "internalType": "uint16",
              "name": "newIntelligence",
              "type": "uint16"
            },
            {
              "internalType": "string",
              "name": "memorySnippet",
              "type": "string"
            }
          ],
          "internalType": "struct NPCCore.InteractionOutcome",
          "name": "",
          "type": "tuple"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "components": [
            {
              "internalType": "enum SharedTypes.ActionType",
              "name": "action",
              "type": "uint8"
            },
            {
              "internalType": "address",
              "name": "target",
              "type": "address"
            },
            {
              "internalType": "uint256",
              "name": "value1",
              "type": "uint256"
            },
            {
              "internalType": "uint256",
              "name": "value2",
              "type": "uint256"
            },
            {
              "internalType": "bytes32",
              "name": "memo",
              "type": "bytes32"
            }
          ],
          "internalType": "struct SharedTypes.InteractionContext",
          "name": "context",
          "type": "tuple"
        }
      ],
      "name": "isInteractionPositive",
      "outputs": [
        {
          "internalType": "bool",
          "name": "",
          "type": "bool"
        }
      ],
      "stateMutability": "pure",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "npcId",
          "type": "uint256"
        },
        {
          "internalType": "address",
          "name": "player",
          "type": "address"
        },
        {
          "internalType": "enum SharedTypes.ActionType",
          "name": "actionType",
          "type": "uint8"
        },
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "name": "makeDecision",
      "outputs": [
        {
          "components": [
            {
              "internalType": "enum SharedTypes.ResponseType",
              "name": "responseType",
              "type": "uint8"
            },
            {
              "internalType": "uint16",
              "name": "intensity",
              "type": "uint16"
            },
            {
              "internalType": "string",
              "name": "contextData",
              "type": "string"
            }
          ],
          "internalType": "struct LearningEngine.Decision",
          "name": "",
          "type": "tuple"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "npcCore",
      "outputs": [
        {
          "internalType": "contract NPCCore",
          "name": "",
          "type": "address"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    }
  ],
  "bytecode": "0x60a034607557601f610e1938819003918201601f19168301916001600160401b03831184841017607957808492602094604052833981010312607557516001600160a01b03811690819003607557608052604051610d8b908161008e82396080518181816092015281816103df01526104bf0152f35b5f80fd5b634e487b7160e01b5f52604160045260245ffdfe60806040526004361015610011575f80fd5b5f3560e01c8063210b65d81461040e5780634fdd45ed146103ca578063d148650a1461035a5763de96f85014610045575f80fd5b3461031e57608036600319011261031e5760043561006161088b565b9060443590600682101561031e5760606040805161007e816108d1565b5f81525f6020820152015260018060a01b037f00000000000000000000000000000000000000000000000000000000000000001660405193631300ce3560e21b85528260048601525f85602481855afa91821561032a5761011b955f93610335575b50604051631aa5603560e31b815260048101949094526001600160a01b03909116602484015291939091602091859190829081906044820190565b03915afa92831561032a575f936102e8575b50604001600260ff82511614806102d5575b1561021257505061ffff600291166103e80361ffff81116101fe5760011c617fff166101f40161ffff81116101fe57905b6103e861ffff8316116101f4575b6040519061018b826108d1565b61019481610933565b815261ffff60208201921682526101f06040516101b26020826108ed565b5f81526040830190815261ffff60405194859460208652516101d381610933565b60208601525116604084015251606080840152608083019061090f565b0390f35b6103e8915061017e565b634e487b7160e01b5f52601160045260245ffd5b5160ff1615806102af575b15610253575060049060011c617fff1661012c0161ffff81116102405790610170565b601182634e487b7160e01b5f525260245ffd5b61ffff82166102bc811115610275575050617fff6004915b60011c1690610170565b61012c11908161029b575b501561029157617fff60029161026b565b617fff5f9161026b565b600291506102a881610933565b145f610280565b506102b981610933565b600381148061021d57506102cc81610933565b6001811461021d565b506102df82610933565b6002821461013f565b9092506020813d602011610322575b81610304602093836108ed565b8101031261031e5761031760409161096d565b929061012d565b5f80fd5b3d91506102f7565b6040513d5f823e3d90fd5b60209350610354903d805f833e61034c81836108ed565b81019061097c565b926100e0565b3461031e5760a036600319011261031e57604051610377816108a1565b600435600681101561031e5781526024356001600160a01b038116810361031e57816103c091602080940152604435604082015260643560608201526084356080820152610ac4565b6040519015158152f35b3461031e575f36600319011261031e576040517f00000000000000000000000000000000000000000000000000000000000000006001600160a01b03168152602090f35b3461031e5761010036600319011261031e5760043561042b61088b565b60a036604319011261031e5760405191610444836108a1565b604435600681101561031e5783526064356001600160a01b038116810361031e576020840152608435604084015260a435606084015260c435608084015260e4358015938415820361031e57606060806040516104a0816108a1565b5f81525f60208201525f60408201525f83820152015260018060a01b037f0000000000000000000000000000000000000000000000000000000000000000169360405194631300ce3560e21b86528460048701525f86602481845afa94851561032a57610546965f96610868575b50604051631aa5603560e31b815260048101919091526001600160a01b03909216602483015290946020918691829081906044820190565b03915afa93841561032a575f9461082c575b506060830194600561ffff6032818951160416019461ffff86116101fe5783156107ed579061ffff9682876103e88a610597836101f09b9a9998610aae565b1611156107df5750506103e85b965b888060a08160808a01511698015116925116928451906105c582610933565b6105ce82610933565b600282149182806107d8575b156107865788846103e88e6105f183829d9e610aae565b1611156107785750506103e85b985b61060982610933565b60038214908115610763575b811561074e575b81610746575b50156106d85750505091617fff859360011c166103e8846106438385610aae565b1611156106c55750508161065a6103e85b94610b1c565b9581604051996106698b6108a1565b1689528160208a01911681528160408a01931683528160608a019516855260808901968752604051998a9960208b52511660208a01525116604088015251166060860152511660808401525160a08084015260c083019061090f565b6106d361065a918593610aae565b610654565b6106e190610933565b8161073e575b506106fa575b508361065a819394610b1c565b91613fff859360021c166103e8846107128385610aae565b16111561072b5750508161065a6103e85b9350506106ed565b61073961065a918593610aae565b610723565b90508a6106e7565b90508d610622565b905061075982610933565b600582149061061c565b905061076e82610933565b6001821490610615565b61078191610aae565b6105fe565b8b9761079182610933565b60038214806107d1575b156106005794846103e88a6107b08385610aae565b1611156107c35750506103e85b94610600565b6107cc91610aae565b6107bd565b508061079b565b50816105da565b6107e891610aae565b6105a4565b909392919061ffff86811691168181111561081c57039361ffff85116101fe5761ffff966101f0955b966105a6565b50506101f09361ffff965f610816565b9093506020813d602011610860575b81610848602093836108ed565b8101031261031e576108599061096d565b9285610558565b3d915061083b565b60209392919650610882903d805f833e61034c81836108ed565b9590919261050e565b602435906001600160a01b038216820361031e57565b60a0810190811067ffffffffffffffff8211176108bd57604052565b634e487b7160e01b5f52604160045260245ffd5b6060810190811067ffffffffffffffff8211176108bd57604052565b90601f8019910116810190811067ffffffffffffffff8211176108bd57604052565b805180835260209291819084018484015e5f828201840152601f01601f1916010190565b6006111561093d57565b634e487b7160e01b5f52602160045260245ffd5b67ffffffffffffffff81116108bd57601f01601f191660200190565b519061ffff8216820361031e57565b60208183031261031e5780519067ffffffffffffffff821161031e57016101408183031261031e5760405191610140830183811067ffffffffffffffff8211176108bd5760405281518352602082015167ffffffffffffffff811161031e57820181601f8201121561031e578051906109f482610951565b92610a0260405194856108ed565b8284526020838301011161031e57815f9260208093018386015e830101526020830152604081015160ff8116810361031e576040830152610a456060820161096d565b6060830152610a566080820161096d565b6080830152610a6760a0820161096d565b60a083015260c081015160c083015260e081015160e083015261010081015190811515820361031e57610120916101008401520151600581101561031e5761012082015290565b9061ffff8091169116019061ffff82116101fe57565b51610ace81610933565b610ad781610933565b60028114610b1757610ae881610933565b60038114908115610b03575b50610afe57600190565b600190565b60049150610b1081610933565b145f610af4565b505f90565b8051610b2781610933565b610b3081610933565b60028114610c2b57610b4181610933565b60038114610c0057600490610b5581610933565b14610b855750604051610b696040826108ed565b600c81526b33b932b2ba1d383630bcb2b960a11b602082015290565b610bfd600582602a6020610baa6060610ba2604084990151610c79565b940151610c79565b6040519687946933b4bb329d34ba32b69d60b11b828701528051918291018587015e840190641d38ba3c9d60d91b84830152805192839101602f83015e01015f838201520301601f1981018352826108ed565b90565b5050604051610c106040826108ed565b600b81526a3432b6381d383630bcb2b960a91b602082015290565b50610bfd602b610c4060406020940151610c79565b6040519384916a30ba3a30b1b59d3236b39d60a91b828401528051918291018484015e81015f838201520301601f1981018352826108ed565b8015610d35575f81805b610d1e5750610c9181610951565b90610c9f60405192836108ed565b808252601f19610cae82610951565b013660208401375b80928015610d17575f1982019182116101fe578193600a820660300192836030116101fe5784511115610d0357600a9260f81b6001600160f81b0319165f1a908401601f01530491610cb6565b634e487b7160e01b5f52603260045260245ffd5b5050905090565b905f1981146101fe576001600a9101910480610c83565b50604051610d446040826108ed565b60018152600360fc1b60208201529056fea2646970667358221220f67c6e4a336e02396bc9acc2a661e99009ed3d08eb70dce007351e99ce1f262464736f6c634300081c0033",
  "deployedBytecode": "0x60806040526004361015610011575f80fd5b5f3560e01c8063210b65d81461040e5780634fdd45ed146103ca578063d148650a1461035a5763de96f85014610045575f80fd5b3461031e57608036600319011261031e5760043561006161088b565b9060443590600682101561031e5760606040805161007e816108d1565b5f81525f6020820152015260018060a01b037f00000000000000000000000000000000000000000000000000000000000000001660405193631300ce3560e21b85528260048601525f85602481855afa91821561032a5761011b955f93610335575b50604051631aa5603560e31b815260048101949094526001600160a01b03909116602484015291939091602091859190829081906044820190565b03915afa92831561032a575f936102e8575b50604001600260ff82511614806102d5575b1561021257505061ffff600291166103e80361ffff81116101fe5760011c617fff166101f40161ffff81116101fe57905b6103e861ffff8316116101f4575b6040519061018b826108d1565b61019481610933565b815261ffff60208201921682526101f06040516101b26020826108ed565b5f81526040830190815261ffff60405194859460208652516101d381610933565b60208601525116604084015251606080840152608083019061090f565b0390f35b6103e8915061017e565b634e487b7160e01b5f52601160045260245ffd5b5160ff1615806102af575b15610253575060049060011c617fff1661012c0161ffff81116102405790610170565b601182634e487b7160e01b5f525260245ffd5b61ffff82166102bc811115610275575050617fff6004915b60011c1690610170565b61012c11908161029b575b501561029157617fff60029161026b565b617fff5f9161026b565b600291506102a881610933565b145f610280565b506102b981610933565b600381148061021d57506102cc81610933565b6001811461021d565b506102df82610933565b6002821461013f565b9092506020813d602011610322575b81610304602093836108ed565b8101031261031e5761031760409161096d565b929061012d565b5f80fd5b3d91506102f7565b6040513d5f823e3d90fd5b60209350610354903d805f833e61034c81836108ed565b81019061097c565b926100e0565b3461031e5760a036600319011261031e57604051610377816108a1565b600435600681101561031e5781526024356001600160a01b038116810361031e57816103c091602080940152604435604082015260643560608201526084356080820152610ac4565b6040519015158152f35b3461031e575f36600319011261031e576040517f00000000000000000000000000000000000000000000000000000000000000006001600160a01b03168152602090f35b3461031e5761010036600319011261031e5760043561042b61088b565b60a036604319011261031e5760405191610444836108a1565b604435600681101561031e5783526064356001600160a01b038116810361031e576020840152608435604084015260a435606084015260c435608084015260e4358015938415820361031e57606060806040516104a0816108a1565b5f81525f60208201525f60408201525f83820152015260018060a01b037f0000000000000000000000000000000000000000000000000000000000000000169360405194631300ce3560e21b86528460048701525f86602481845afa94851561032a57610546965f96610868575b50604051631aa5603560e31b815260048101919091526001600160a01b03909216602483015290946020918691829081906044820190565b03915afa93841561032a575f9461082c575b506060830194600561ffff6032818951160416019461ffff86116101fe5783156107ed579061ffff9682876103e88a610597836101f09b9a9998610aae565b1611156107df5750506103e85b965b888060a08160808a01511698015116925116928451906105c582610933565b6105ce82610933565b600282149182806107d8575b156107865788846103e88e6105f183829d9e610aae565b1611156107785750506103e85b985b61060982610933565b60038214908115610763575b811561074e575b81610746575b50156106d85750505091617fff859360011c166103e8846106438385610aae565b1611156106c55750508161065a6103e85b94610b1c565b9581604051996106698b6108a1565b1689528160208a01911681528160408a01931683528160608a019516855260808901968752604051998a9960208b52511660208a01525116604088015251166060860152511660808401525160a08084015260c083019061090f565b6106d361065a918593610aae565b610654565b6106e190610933565b8161073e575b506106fa575b508361065a819394610b1c565b91613fff859360021c166103e8846107128385610aae565b16111561072b5750508161065a6103e85b9350506106ed565b61073961065a918593610aae565b610723565b90508a6106e7565b90508d610622565b905061075982610933565b600582149061061c565b905061076e82610933565b6001821490610615565b61078191610aae565b6105fe565b8b9761079182610933565b60038214806107d1575b156106005794846103e88a6107b08385610aae565b1611156107c35750506103e85b94610600565b6107cc91610aae565b6107bd565b508061079b565b50816105da565b6107e891610aae565b6105a4565b909392919061ffff86811691168181111561081c57039361ffff85116101fe5761ffff966101f0955b966105a6565b50506101f09361ffff965f610816565b9093506020813d602011610860575b81610848602093836108ed565b8101031261031e576108599061096d565b9285610558565b3d915061083b565b60209392919650610882903d805f833e61034c81836108ed565b9590919261050e565b602435906001600160a01b038216820361031e57565b60a0810190811067ffffffffffffffff8211176108bd57604052565b634e487b7160e01b5f52604160045260245ffd5b6060810190811067ffffffffffffffff8211176108bd57604052565b90601f8019910116810190811067ffffffffffffffff8211176108bd57604052565b805180835260209291819084018484015e5f828201840152601f01601f1916010190565b6006111561093d57565b634e487b7160e01b5f52602160045260245ffd5b67ffffffffffffffff81116108bd57601f01601f191660200190565b519061ffff8216820361031e57565b60208183031261031e5780519067ffffffffffffffff821161031e57016101408183031261031e5760405191610140830183811067ffffffffffffffff8211176108bd5760405281518352602082015167ffffffffffffffff811161031e57820181601f8201121561031e578051906109f482610951565b92610a0260405194856108ed565b8284526020838301011161031e57815f9260208093018386015e830101526020830152604081015160ff8116810361031e576040830152610a456060820161096d565b6060830152610a566080820161096d565b6080830152610a6760a0820161096d565b60a083015260c081015160c083015260e081015160e083015261010081015190811515820361031e57610120916101008401520151600581101561031e5761012082015290565b9061ffff8091169116019061ffff82116101fe57565b51610ace81610933565b610ad781610933565b60028114610b1757610ae881610933565b60038114908115610b03575b50610afe57600190565b600190565b60049150610b1081610933565b145f610af4565b505f90565b8051610b2781610933565b610b3081610933565b60028114610c2b57610b4181610933565b60038114610c0057600490610b5581610933565b14610b855750604051610b696040826108ed565b600c81526b33b932b2ba1d383630bcb2b960a11b602082015290565b610bfd600582602a6020610baa6060610ba2604084990151610c79565b940151610c79565b6040519687946933b4bb329d34ba32b69d60b11b828701528051918291018587015e840190641d38ba3c9d60d91b84830152805192839101602f83015e01015f838201520301601f1981018352826108ed565b90565b5050604051610c106040826108ed565b600b81526a3432b6381d383630bcb2b960a91b602082015290565b50610bfd602b610c4060406020940151610c79565b6040519384916a30ba3a30b1b59d3236b39d60a91b828401528051918291018484015e81015f838201520301601f1981018352826108ed565b8015610d35575f81805b610d1e5750610c9181610951565b90610c9f60405192836108ed565b808252601f19610cae82610951565b013660208401375b80928015610d17575f1982019182116101fe578193600a820660300192836030116101fe5784511115610d0357600a9260f81b6001600160f81b0319165f1a908401601f01530491610cb6565b634e487b7160e01b5f52603260045260245ffd5b5050905090565b905f1981146101fe576001600a9101910480610c83565b50604051610d446040826108ed565b60018152600360fc1b60208201529056fea2646970667358221220f67c6e4a336e02396bc9acc2a661e99009ed3d08eb70dce007351e99ce1f262464736f6c634300081c0033",
  "linkReferences": {},
  "deployedLinkReferences": {},
  "immutableReferences": {
    "1852": [
      {
        "length": 32,
        "start": 146
      },
      {
        "length": 32,
        "start": 991
      },
      {
        "length": 32,
        "start": 1215
      }
    ]
  },
  "inputSourceName": "project/contracts/LearningEngine.sol",
  "buildInfoId": "solc-0_8_28-1dfd718cc158ec3cebf3dfe55be8fd614ae0a44b"
}